<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- CoreUI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/@coreui/coreui/dist/css/coreui.min.css" crossorigin="anonymous">
    <title>유한누리 어드민</title>	
	<link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.css" />
    <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
    <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.css" />
    <script src="https://uicdn.toast.com/tui.code-snippet/v1.5.2/tui-code-snippet.min.js"></script>
    <script src="https://uicdn.toast.com/tui.time-picker/latest/tui-time-picker.min.js"></script>
    <script src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.min.js"></script>
    <script src="https://uicdn.toast.com/tui-calendar/latest/tui-calendar.js"></script>
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body class="c-app">
		<script>
				$(function () {
				$('button.reser-btn').click(function(e) {
						$.ajax({
						type: "POST",
						dataType: "json",
						url: "./accessReservation",
						async: true,
						data: { "sendAjax" : $(`#${e.target.id}`).val() },
						success: function (data) { 
							window.location.reload();
						}
					});

				});
			});
		</script>
    <div class="c-sidebar c-sidebar-dark c-sidebar-fixed c-sidebar-lg-show" id="sidebar">
        <div class="c-sidebar-brand d-lg-down-none">
            <svg class="c-sidebar-brand-full" width="118" height="46" alt="CoreUI Logo">
                <use xlink:href="assets/brand/coreui.svg#full"></use>
            </svg>
            <svg class="c-sidebar-brand-minimized" width="46" height="46" alt="CoreUI Logo">
                <use xlink:href="assets/brand/coreui.svg#signet"></use>
            </svg>
        </div>
        <ul class="c-sidebar-nav">
            <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="index.html">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-speedometer"></use>
                    </svg> Dashboard<span class="badge badge-info">NEW</span></a></li>
            <li class="c-sidebar-nav-title">Theme</li>
            <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="colors.html">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-drop1"></use>
                    </svg> Colors</a></li>
            <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="typography.html">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-pencil"></use>
                    </svg> Typography</a></li>
            <li class="c-sidebar-nav-title">Components</li>
            <li class="c-sidebar-nav-item c-sidebar-nav-dropdown"><a
                    class="c-sidebar-nav-link c-sidebar-nav-dropdown-toggle" href="#">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-puzzle"></use>
                    </svg> Base</a>
            </li>
            <li class="c-sidebar-nav-item c-sidebar-nav-dropdown"><a
                    class="c-sidebar-nav-link c-sidebar-nav-dropdown-toggle" href="#">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-cursor"></use>
                    </svg> Buttons</a>
            </li>
            <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="charts.html">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-chart-pie"></use>
                    </svg> Charts</a></li>
            <li class="c-sidebar-nav-dropdown"><a class="c-sidebar-nav-dropdown-toggle" href="#">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-star"></use>
                    </svg> Icons</a>
            </li>
            <li class="c-sidebar-nav-item c-sidebar-nav-dropdown"><a
                    class="c-sidebar-nav-link c-sidebar-nav-dropdown-toggle" href="#">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-bell"></use>
                    </svg> Notifications</a>
            </li>
            <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="widgets.html">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-calculator"></use>
                    </svg> Widgets<span class="badge badge-info">NEW</span></a></li>
            <li class="c-sidebar-nav-divider"></li>
            <li class="c-sidebar-nav-title">Extras</li>
            <li class="c-sidebar-nav-item c-sidebar-nav-dropdown"><a
                    class="c-sidebar-nav-link c-sidebar-nav-dropdown-toggle" href="#">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-star"></use>
                    </svg> Pages</a>
                <ul class="c-sidebar-nav-dropdown-items">
                    <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="login.html" target="_top">
                            <svg class="c-sidebar-nav-icon">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-account-logout"></use>
                            </svg> Login</a></li>
                    <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="register.html" target="_top">
                            <svg class="c-sidebar-nav-icon">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-account-logout"></use>
                            </svg> Register</a></li>
                    <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="404.html" target="_top">
                            <svg class="c-sidebar-nav-icon">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-bug"></use>
                            </svg> Error 404</a></li>
                    <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link" href="500.html" target="_top">
                            <svg class="c-sidebar-nav-icon">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-bug"></use>
                            </svg> Error 500</a></li>
                </ul>
            </li>
            <li class="c-sidebar-nav-item mt-auto"><a class="c-sidebar-nav-link c-sidebar-nav-link-success"
                    href="https://coreui.io" target="_top">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-cloud-download"></use>
                    </svg> Download CoreUI</a></li>
            <li class="c-sidebar-nav-item"><a class="c-sidebar-nav-link c-sidebar-nav-link-danger"
                    href="https://coreui.io/pro/" target="_top">
                    <svg class="c-sidebar-nav-icon">
                        <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-layers"></use>
                    </svg> Try CoreUI<strong>PRO</strong></a></li>
        </ul>
        <button class="c-sidebar-minimizer c-class-toggler" type="button" data-target="_parent"
            data-class="c-sidebar-minimized"></button>
    </div>
    <div class="c-wrapper c-fixed-components">
        <header class="c-header c-header-light c-header-fixed c-header-with-subheader">
            <button class="c-header-toggler c-class-toggler d-lg-none mfe-auto" type="button" data-target="#sidebar"
                data-class="c-sidebar-show">
                <svg class="c-icon c-icon-lg">
                    <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-menu"></use>
                </svg>
            </button><a class="c-header-brand d-lg-none" href="#">
                <svg width="118" height="46" alt="CoreUI Logo">
                    <use xlink:href="assets/brand/coreui.svg#full"></use>
                </svg></a>
            <button class="c-header-toggler c-class-toggler mfs-3 d-md-down-none" type="button" data-target="#sidebar"
                data-class="c-sidebar-lg-show" responsive="true">
                <svg class="c-icon c-icon-lg">
                    <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-menu"></use>
                </svg>
            </button>
            <ul class="c-header-nav d-md-down-none">
                <li class="c-header-nav-item px-3"><a class="c-header-nav-link" href="#">Dashboard</a></li>
                <li class="c-header-nav-item px-3"><a class="c-header-nav-link" href="#">Users</a></li>
                <li class="c-header-nav-item px-3"><a class="c-header-nav-link" href="#">Settings</a></li>
            </ul>
            <ul class="c-header-nav ml-auto mr-4">
                <li class="c-header-nav-item d-md-down-none mx-2"><a class="c-header-nav-link" href="#">
                        <svg class="c-icon">
                            <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-bell"></use>
                        </svg></a></li>
                <li class="c-header-nav-item d-md-down-none mx-2"><a class="c-header-nav-link" href="#">
                        <svg class="c-icon">
                            <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-list-rich"></use>
                        </svg></a></li>
                <li class="c-header-nav-item d-md-down-none mx-2"><a class="c-header-nav-link" href="#">
                        <svg class="c-icon">
                            <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-envelope-open"></use>
                        </svg></a></li>
                <li class="c-header-nav-item dropdown"><a class="c-header-nav-link" data-toggle="dropdown" href="#"
                        role="button" aria-haspopup="true" aria-expanded="false">
                        <div class="c-avatar"><img class="c-avatar-img" src="assets/img/avatars/6.jpg"
                                alt="user@gmail.com"></div>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right pt-0">
                        <div class="dropdown-header bg-light py-2"><strong>Account</strong></div><a
                            class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-bell"></use>
                            </svg> Updates<span class="badge badge-info ml-auto">42</span></a><a class="dropdown-item"
                            href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-envelope-open"></use>
                            </svg> Messages<span class="badge badge-success ml-auto">42</span></a><a
                            class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-task"></use>
                            </svg> Tasks<span class="badge badge-danger ml-auto">42</span></a><a class="dropdown-item"
                            href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-comment-square"></use>
                            </svg> Comments<span class="badge badge-warning ml-auto">42</span></a>
                        <div class="dropdown-header bg-light py-2"><strong>Settings</strong></div><a
                            class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-user"></use>
                            </svg> Profile</a><a class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-settings"></use>
                            </svg> Settings</a><a class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-credit-card"></use>
                            </svg> Payments<span class="badge badge-secondary ml-auto">42</span></a><a
                            class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-file"></use>
                            </svg> Projects<span class="badge badge-primary ml-auto">42</span></a>
                        <div class="dropdown-divider"></div><a class="dropdown-item" href="#">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-lock-locked"></use>
                            </svg> Lock Account</a><a class="dropdown-item" href="/user/logout">
                            <svg class="c-icon mr-2">
                                <use xlink:href="node_modules/@coreui/icons/sprites/free.svg#cil-account-logout"></use>
                            </svg> Logout</a>
                    </div>
                </li>
            </ul>
            <div class="c-subheader px-3">
                <!-- Breadcrumb-->
                <ol class="breadcrumb border-0 m-0">
                    <li class="breadcrumb-item">Home</li>
                    <li class="breadcrumb-item"><a href="#">Admin</a></li>
                    <li class="breadcrumb-item active">Dashboard</li>
                    <!-- Breadcrumb Menu-->
                </ol>
            </div>
        </header>
        <div class="c-body">
            <main class="c-main">
                <div class="container-fluid">
                    <div class="fade-in">
						<h2 id='date'></h2>
						<button id="nowBtn">오늘</button>
						<button id="prevBtn">이전</button>
						<button id="nextBtn">다음</button>
						<button id="dayViewBtn">일간</button>
						<button id="weekViewBtn">주간</button>
						<button id="monthViewBtn">월간</button>
						<div id="calendar" style="height: 800px;"></div>
                    </div>
                </div>
            </main>
            <footer class="c-footer">
                <div><a href="https://coreui.io">CoreUI</a> &copy; 2020 creativeLabs.</div>
                <div class="ml-auto">Powered by&nbsp;<a href="https://coreui.io/">CoreUI</a></div>
            </footer>
        </div>
    </div>
	<script>
		const container = document.getElementById('calendar');

		const options = {
			defaultView: 'month',
			useCreationPopup: true,
			useDetailPopup: true
		}
		var Calendar = tui.Calendar;

		const calendar = new Calendar(container, options);
		const nowBtn = document.getElementById('nowBtn');
		const prevBtn = document.getElementById('prevBtn');
		const nextBtn = document.getElementById('nextBtn');
		const dayViewBtn = document.getElementById('dayViewBtn');
		const weekViewBtn = document.getElementById('weekViewBtn');
		const monthViewBtn = document.getElementById('monthViewBtn');
		const date = document.getElementById('date');

		date.textContent = `${calendar.getDate().getFullYear()}-${calendar.getDate().getMonth() + 1}`;

		// calendar._controller.schedules.items //전체 스케줄 뽑는 방법

		calendar.setCalendars([
			{
				id: 'Major Subject',
				name: '전공 필수',
				color: '#ffffff',
				bgColor: '#ff5583',
				dragBgColor: '#ff5583',
				borderColor: '#ff5583'
			},
			{
				id: 'Elective Subject',
				name: '전공 선택',
				color: '#ffffff',
				bgColor: '#ffbb3b',
				dragBgColor: '#ffbb3b',
				borderColor: '#ffbb3b'
			},
			{
				id: 'General Subject',
				name: '일반 교양',
				color: '#ffffff',
				bgColor: '#03bd9e',
				dragBgColor: '#03bd9e',
				borderColor: '#03bd9e'
			}
		]); //캘린더 종류 등록

		calendar.createSchedules([
			{
				id: '1',
				calendarId: 'Major Subject', // 등록된 캘린더 종류에 따른 id값 매핑
				title: '자료구조론',
				category: 'time',              // 일반 일정
				start: '2020-10-01T10:00:00',
				end: '2020-10-02T10:00:00'
			},
			{
				id: '2',
				calendarId: 'Elective Subject',
				title: '웹 프로그래밍',
				category: 'time',
				start: '2020-10-03T10:00:00',
				end: '2020-10-04T10:00:00',
			},
			{
				id: '3',
				calendarId: 'General Subject',
				title: '영양과 건강',
				category: 'time',
				start: '2019-11-27T13:00:00',
				end: '2019-11-27T14:00:00'
			},
			{
				id: '4',
				calendarId: 'Major Subject',
				title: '하...',
				category: 'allday',              // 종일 일정
				start: '2020-10-26',
				end: '2020-10-30',
				color: '#ffffff',
				bgColor: '#ff4040',              // 일정 색상을 직접 지정할 수 있어요
				dragBgColor: '#ff4040',
				borderColor: '#ff4040'
			}
		]);

		calendar.on('beforeCreateSchedule', scheduleData => {
			const schedule = { // 해당 객체의 형태로 db를 구성해야 할 것 같음
				calendarId: scheduleData.calendarId,
				id: String(Math.random() * 100000000000000000), // 겹칠 일이 없도록 만드는 것이 중요함
				title: scheduleData.title,
				isAllDay: scheduleData.isAllDay,
				start: scheduleData.start,
				end: scheduleData.end,
				category: scheduleData.isAllDay ? 'allday' : 'time',
				location: scheduleData.location             // 장소 정보도 입력할 수 있네요!
			};

			calendar.createSchedules([schedule]);

			// alert('일정 생성 완료');
		});
		calendar.on('beforeUpdateSchedule', event => {
			const { schedule, changes } = event;

			calendar.updateSchedule(schedule.id, schedule.calendarId, changes);
		});
		calendar.on('beforeDeleteSchedule', scheduleData => {
			const { schedule } = scheduleData;

			calendar.deleteSchedule(schedule.id, schedule.calendarId);
		});
		nowBtn.addEventListener('click', () => {
			calendar.today();
			date.textContent = `${calendar.getDate().getFullYear()}-${calendar.getDate().getMonth() + 1}`;
		})
		prevBtn.addEventListener('click', () => {
			calendar.prev();
			date.textContent = `${calendar.getDate().getFullYear()}-${calendar.getDate().getMonth() + 1}`;
		});

		nextBtn.addEventListener('click', () => {
			calendar.next();
			date.textContent = `${calendar.getDate().getFullYear()}-${calendar.getDate().getMonth() + 1}`;
		});

		dayViewBtn.addEventListener('click', () => {
			calendar.changeView('day', true);
		});

		weekViewBtn.addEventListener('click', () => {
			calendar.changeView('week', true);
		});

		monthViewBtn.addEventListener('click', () => {
			calendar.changeView('month', true);
		});
	</script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/@coreui/coreui/dist/js/coreui.min.js"></script>
</body>

</html>

