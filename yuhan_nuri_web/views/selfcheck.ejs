<!DOCTYPE html>
<html>
	<head>
		<title>자가진단</title>
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
			  integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
			  crossorigin="anonymous">
		
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"
				integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
				crossorigin="anonymous">
		</script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
				integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
				crossorigin="anonymous">
		</script>
        <style>
            .top-bar{
				padding: 0;
                background-color: #006961;
			}
			.top-title{
				position: absolute;
				top: 2.5%;
				left: 50%;
				transform: translateX(-50%);
				font-weight: bold;
				font-size: 150%;
                color: white;
			}
            .top-backward{
                font-size: 130%;
                color: white;
            }
            .card-margin{
                margin-bottom: 3vh;
            }
            .question-label{
                font-size: 20px;
            }
            input[type=radio]{
                width: 20px;
                height: 20px;
            }
            input[type=checkbox]{
                width: 20px;
                height: 20px;
            }
            .answer-label{
                font-size: 20px;
                margin-left: 10px;
            }
        </style>
	</head>
	<body>
		<div class="top-bar shadow p-3 mb-5 rounded">
            <button class="btn" id="btn-back">
                <i class="fa fa-arrow-left top-backward" aria-hidden="true"></i>
            </button>
			<label class="top-title">자가진단</label>
        </div>
        
        <div class="container-fluid">
            <div class="row">
                <div class="col">
                    <h4>학생상담센터 상담·심리검사 참여자 만족도 조사</h4>
                </div>
            </div>
            
            <div class="card card-margin">
                <div class="card-body">
                    본 조사는 학생들에게 더 도움되는 프로그램 제공을 위하여 상담 및 심리검사 해석 참여자를 대상으로 실시하는 설문입니다. <br/>
                    완료 후 센터에 내방하시면 소정의 선물을 증정합니다.
                </div>
            </div>
            
			<% for(let i = 0; i < result.length; i++) { %>
			<div class="card card-margin">
                <div class="card-header question-label">
                    <%= result[i].cardno + 1 %>. <%= result[i].question %>
                </div>
				<% if(result[i].answertype == "check") {
					var list = result[i].answer.split(',');
					for(let j = 0; j < list.length; j++) { %>
					<div class="card-body">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" name="<%= 'card'+i %>" id="<%= 'answer'+i+j %>" value="temp">
							<label class="form-check-label answer-label" for="<%= 'answer'+i+j %>">
								<%= list[j] %>
							</label>
						</div>
					</div>
					<% }
				} %>
				
				<% if(result[i].answertype == "radio") {
					var list = result[i].answer.split(',');
					for(let j = 0; j < list.length; j++) { %>
					<div class="card-body">
						<div class="form-check">
							<input class="form-check-input" type="radio" name="<%= 'card'+i %>" id="<%= 'answer'+i+j %>" value="temp">
							<label class="form-check-label answer-label" for="<%= 'answer'+i+j %>">
								<%= list[j] %>
							</label>
						</div>
					</div>
					<% }
				} %>
				
				<% if(result[i].answertype == "normal") { %>
					<div class="card-body" style="padding:0px;">
						<textarea class="form-control" style="border:none;" placeholder="자유롭게 작성해 주세요." required></textarea>
					</div>
				<% } %>
            </div>
            <% } %>
        </div>
        
        <script>
            $("#btn-back").click(function(){
				window.history.back();
			});
        </script>
	</body>
</html>